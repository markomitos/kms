<div class="text-center mb-6">
  <h1 class="text-3xl font-bold text-gray-800 dark:text-white">
    Welcome Back!
  </h1>
  <p class="text-gray-500 dark:text-gray-400 mt-2">Sign in to continue.</p>
</div>
<form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <div class="mb-4">
    <label
      for="email-login"
      class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-2"
      >Email</label
    >
    <input
      id="email-login"
      type="email"
      formControlName="email"
      placeholder="you@example.com"
      class="w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
    @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
    <p class="text-red-500 text-xs mt-1">Please enter a valid email.</p>
    }
  </div>
  <div class="mb-6">
    <label
      for="password-login"
      class="block text-sm font-medium text-gray-600 dark:text-gray-300 mb-2"
      >Password</label
    >
    <input
      id="password-login"
      type="password"
      formControlName="password"
      placeholder="••••••••"
      class="w-full px-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
  </div>
  <button
    type="submit"
    [disabled]="loginForm.invalid || isLoading()"
    class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-all disabled:bg-blue-400 disabled:cursor-not-allowed flex items-center justify-center"
  >
    @if (isLoading()) {
    <svg
      class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <circle
        class="opacity-25"
        cx="12"
        cy="12"
        r="10"
        stroke="currentColor"
        stroke-width="4"
      ></circle>
      <path
        class="opacity-75"
        fill="currentColor"
        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
      ></path>
    </svg>
    <span>Processing...</span>
    } @else {
    <span>Login</span>
    }
  </button>
</form>
<div class="text-center mt-6">
  <p class="text-sm text-gray-600 dark:text-gray-400">
    Don't have an account?
    <button
      (click)="switchToRegister()"
      class="font-medium text-blue-600 hover:text-blue-500 cursor-pointer"
    >
      Register
    </button>
  </p>
</div>
@if (message()) {
<p
  class="mt-4 text-center text-sm"
  [class.text-red-500]="messageType() === 'error'"
  [class.text-green-500]="messageType() === 'success'"
>
  {{ message() }}
</p>
}
